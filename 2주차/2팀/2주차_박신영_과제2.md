> 시작에 앞서, 전반적인 전제 제시
```python
import numpy as np
import pandas as pd
import seaborn as sns
import matplotlib as plt

titanic = pd.read_csv("../datasets/titanic.csv")
## 타이타닉 csv 파일을 예시로 배우게 됨
```

## [내용 정리]
```python
# 3.1 데이터 필터링과 정렬 테크닉

## 데이터프레임의 인덱스에 조건식 삽입 or loc, iloc 함수 적용
## loc, iloc도 조건식을 필요로 하므로 유사함
## isin 함수 적용하여 원하는 값이 존재하는 행 조회
## 인덱스 맨 앞에 '~'를 붙이면 인덱스에 쓰인 값 외의 것을 조회
## query 함수 사용 시, 매개변수에 변수명 없이 바로 함수 적용

## notnull() 결측값이 아닌 값을 가진 행 출력
## str.contains("찾고자 하는 단어") 함수 적용하여 문자 필터링

## 차순 정렬. 정렬의 기준이 될 컬럼과, 정렬의 형태를 정하여 필터링
## 역순 정렬. 인덱스에 ::-1을 삽입하여 적용



# 3.2 결측값 처리

## 결측값 시각화. 맷플롯립을 사용하기 시작함. 맷플롯립을 호출하여 그래프 크기를 정하고
## 시본의 heatmap 함수를 호출하는데, 매개변수로 titanic.isnull() 함수를 삽입하여
## 결측값 분포를 나타내는 그래프를 그린다.

## titanic.info(), isna().sum(), isnull().sum() 등을 이용하여 각 컬럼별 원소 개수를 센다.
## 원소 개수와 기존 데이터 프레임 사이즈의 차이가 결측값의 개수이다.
## Tip. isna()가 결측값 판별이라면 notna()는 관측값 판별이다.

## 결측값 제거. dropna() 함수가 주로 쓰임.
## 결측값 포함된 행 제거: titanic.dropna() 기준이 로우로 지정되어 있음.
''' 조심스레 함수 원형을 예측해볼 수 있음.
    def dropna(axis="rows"): ~~
'''
## 결측값 포함된 열 제거: titanic.dropna(axis="columns") axis(기준)를 컬럼으로 지정함.
## 매개변수로 how="/방식", thresh="/결측값 개수 제한", subset="컬럼명" 등을 사용해
## 그에 맞는 방식으로 결측값 선별 및 처리함.

""" Tip. 매개변수에 inplace=True를 삽입할 경우 원본 데이터 자체를 수정함
"""

## 결측값 대체/보간. fillna() 함수가 주로 쓰임.
## fillna(value): 결측값을 value로 대신 채워넣음.
## replace(to_replace=np.nan,value=값): to_replace값을 빼고, 그 자리를 value로 대체함.
## fillna(값을 반환하는 조건식) 꼴로 활용할 수도 있음

## 매개변수 method는 ffill, bfill, linear, pad 등이 사용될 수 있다.
## ffill, bfill의 경우는 결측값 자리를 이전, 다음 행과 같은 값으로 대체한다.
## linear의 경우는 전후의 평균값을, pad의 경우는 limit_direction 변수에 따라 ffill, bfill의 역할을 수행할 수 있다.
## method를 사용하는 경우는 대체로 연속성이 있는 데이터에 대하여서 사용하는 것이 좋다.



# 3.3 이상값 처리. IQR 기법 사용

## 결측값이 텅 빈 상태를 의미한다면, 이상값은 주변 값과는 경향이 매우 다른 생뚱맞은 값이다.
## 함수 정의
"""
def outlier_iqr(data,column):
  global lower, upper     # 하한, 상한
  q1, q3 = np.quantile(data[column],0.25),np.quantile(data[column],0.75)
                          # 1/4지점, 3/4지점 지정
  iqr = q3 - q1           # 3/4지점 - 1/4지점 = iqr
  cut_off = iqr * 1.5
  lower, upper = q1 - cut_off, q3 + cut_off   # 하한, 상한
  print("IQR은",iqr,"이다.")
  print("lower 기준값은",lower,"이다.")
  print("upper 기준값은",upper,"이다.")
  data1 = data[data[column]>upper]            # 상한보다 큰 값
  data2 = data[data[column]<lower]            # 하한보다 작은 값
  return print("총 이상값 개수는",data1.shape[0] + data2.shape[0],"이다.")

  ## shape() 함수는 데이터셋의 사이즈를 (N, M) 꼴의 튜플로 반환함.
  ## 그 튜플의 0번 인덱스는 행의 사이즈를 의미하므로 이를 활용해 이상값 개수를 반환한 것.

  # python에서의 global은 C언어에서의 static과 같은 기능인듯함.
"""

## 결측값에는 이상값 함수가 적용되지 않으므로 결측값 처리를 거친 후 이상값 처리를 하는 것이 순서.
## 탐지된 이상값의 범위 시각화
## 맷플롯립으로는 그래프의 사이즈를, 시본으로는 히스토그램을 생성한다.
## 맷플롯립에서 axvspan()함수를 이용하여 상한부터 하한까지를 칠하여 이상값 영역을 시각화한다.

## 이후 상한과 하한을 활용하여 이상값을 제거/대체하면 되겠다.
## 제거/대체는 데이터 필터링 및 정렬 테크닉에서 배운대로 진행한다.

```


## [주요 함수]
1. titanic.str.contains("Keyword"): 검색 엔진의 기본적인 원리가 이와 같지 않을까? 검색 기능은 개발자가 아닌 사용자로 하여금 시스템을 효과적으로 이용할 수 있게 만든다. 앞으로 앱/웹 개발을 하게 된다면 충분한 가치를 지닌 함수라고 생각한다.
2. dropna(), fillna(): 각각 결측값 제거/보간의 역할을 수행하는 대표 함수이다. 오류를 줄이기 위해 결측값은 처리해야만 하고, 그 기본이 되는 함수라고 생각한다. 오히려 자세히 알아두어야 할 것은 각 함수의 매개변수로써 쓰이는 변수들의 사용법을 잘 알아두는 것이다. 왜냐하면, 예로 dropna(subset="컬럼명")은 지정된 컬럼에서만 결측값을 제거하고, fillna(method="linear",limit_direction="forward")는 결측값을 주변값과 경향이 비슷한 어떤 값으로 대체하는데, 이렇게 세세한 내용이 유용하기 때문이다.
3. outlier_iqr(data,column): 이상값 처리를 위해 새로 정의한 함수. 이상값 처리를 진행함에 있어서 중요한 역할을 한다고 생각한다. 개인적으로 이 함수보다는 이 함수의 목적인 iqr 값 계산을 잘 숙지함이 더 중요하다고 생각한다.
   - iqr: 3/4분위 - 1/4분위
   - 하한: 1/4분위 - 1.5 iqr
   - 상한: 3/4분위 + 1.5 iqr


## [느낀 점]
- 지난 주에 데이터프레임을 구성하고 활용하는 것에 대해 배웠다면, 이번에는 그 안에서 어떠한 값들을 처리하는 것을 배워서 비교적 쉽고 직관적이었다.
- 결측값은 처리해야 한다고 생각했었지만 이상값이라는 개념, 처리에 대해 새롭게 알게 되어서 좋다.
- 1, 2주차 때 내용을 완전히 이해하지 못했지만 그 내용들이 반복적으로 뒷내용에도 나와서 자연스레 이해가 되어서 좋다. 물론 그만큼 중요한 기본기이기 때문에 복습은 필수일 듯하다.


