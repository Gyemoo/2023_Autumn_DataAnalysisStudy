```python

import numpy as np
import pandas as pd
import seaborn as sns

titanic = pd.read_csv('/content/drive/MyDrive/Colab Notebooks/datasets/titanic.csv')

## titanic[(titanic.Pclass == 3) & (titanic.Sex != "female")].head()
## 함수 대신 조건식 이용하기

## titanic.loc[titanic.Fare > 300, :]
## titanic.iloc[list(titanic.Fare > 300)]
## 후자의 경우에 Fare값을 리스트화 한 후에 행별 조회를 한다는 거라면
## 어떻게 데이터프레임의 형태로 출력하지...? 뭘까

"""
 titanic.loc[
    (titanic.Fare > 240) & (titanic.Sex == "female"), ## 조건
    ["Name","Age","Fare","Embarked"]                  ## 인덱싱(컬럼에 관한)
]
"""


## titanic[titanic.Embarked.isin(["S","C"])].head()
## titanic[~titanic.Embarked.isin(["S","C"])].head() "~"을 앞에 붙이면 여집합 호출
## is in 이니까 안에 들어있는 것 지정해서 호출하는 거랍니다. 늘 이름이 직관적이야...
## 토막상식! embark는 "(운송수단에) 태우다"라는 뜻의 영단어랍니다
## "~" 물결 표시는 틸데 기호라고 칭한다네요~~

## .query("조건")
## titanic.query("Pclass == [1,2] & Fare > 270")
## 쿼리 함수로 조금 더 직관적인 호출이 가능. 컬럼명만 사용하게 됨



## titanic_notnull = titanic[titanic.Cabin.notnull()]
## titanic_notnull.head()
## 하하 또 직관적인 이름입니다. null(결측값) 아닌것들 호출하라는 함수죠 뭐..


## titanic[titanic["Name"].str.contains("Catherine")].head()
## DF명   [   컬럼지정    문자형      필터링        ]
## DF를 조회할건데, DF에서 Name 컬럼에서 문자형으로 캐서린이 포함된 행의 인덱스
## DF에서 열의 주소를 정하여, 해당 열에서만 조회하여 원하는 조건에 맞는 행의
## 인덱스를 반환한다. 그 반환값이 다시 가장 밖의 DF 행 반환 함수에 걸린다.
## 모든 필터링을 마친 DF의 특정 행 주소가 반환되어, 그 행을 출력한다.
## 대충 이런 구조인 듯함..



# 차순정렬

## titanic.sort_values(by=["Fare"],ascending=False).head(5)
## DF에서 특정값 분류, 기준: Fare라는 열, 오름차순이 거짓 즉 내림차순 정렬
## 토막상식!: ascend(오르다)ing: 오름차순 descend(내리다)ing: 내림차순
## 다만 함수에서 descending이라는 워딩은 사용하지 않음. 에러납니다
## titanic.sort_values(by=["Fare","Age"],ascending=False).head(5)
## Fare에 의해 우선정렬 후, Fare가 같은 행끼리는 Age에 의해 재정렬

## titanic[titanic.Sex == "female"].nlargest(n=10,columns="Age")
## DF에서 Sex가 female인 행을 가져다가, 총 10개까지 Age값이 큰 순서대로 정렬, 조회
## 반대: nsmallest(조건식)
## .sort_index(): 인덱스 오름차순으로 정렬
## titanic[titanic.Sex == "female"].nlargest(n=10,columns="Age").sort_index()
## 위의 경우, 순서대로 함수적용이 되므로, nlargest에 의해 정렬된 순서가,
## sort_index에 의해 최종 정렬되므로 정렬 효력은 사라짐. 그냥 10개 뽑은거 됨.



# 역순정렬

## titanic.loc[:].head() -> 정순출력
## titanic.loc[::].head() -> 정순출력. 위랑 차이X
## titanic.loc[::-1].head() -> 역순출력

## titanic.loc[::-1].reset_index().head() 역순을 정순으로 하는 DF로 변형... 머리터질거같음
## 복습: set_index(컬럼명, inplace=ㅆ/)

```
